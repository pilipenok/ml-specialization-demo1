# Run the pipeline locally:
mvn compile exec:java -Dexec.mainClass=com.epam.gcp.chicagotaximl.dataflow.TripsPublicBqToStorage -Dexec.cleanupDaemonThreads=false -Dexec.args="--project=o-epm-gcp-by-meetup1-ml-t1iylu --tempLocation=gs://chicago-taxi-ml-demo-1/dataflow/temp/ --runner=DirectRunner --region=us-central1 --templateLocation=gs://chicago-taxi-ml-demo-1/dataflow/templates/public-bq-to-bq --sourceTable=chicago_taxi_ml_demo_1.taxi_trips_sample --limit=10 --interval=5000 --destinationTable=chicago_taxi_ml_demo_1.taxi_id --outputDirectory=gs://chicago-taxi-ml-demo-1/trips"

# Stage the pipeline in the Cloud Dataflow:
mvn -Pdataflow-runner exec:java -Dexec.mainClass=com.epam.gcp.chicagotaximl.dataflow.TripsPublicBqToStorage -Dexec.cleanupDaemonThreads=false -Dexec.args="--project=o-epm-gcp-by-meetup1-ml-t1iylu --tempLocation=gs://chicago-taxi-ml-demo-1/dataflow/temp/ --runner=DataflowRunner --region=us-central1 --templateLocation=gs://chicago-taxi-ml-demo-1/dataflow/templates/public-bq-to-bq  --sourceTable=bigquery-public-data.chicago_taxi_trips.taxi_trips --limit=2000000000 --interval=1100 --destinationTable=chicago_taxi_ml_demo_1.taxi_id --outputDirectory=gs://chicago-taxi-ml-demo-1/trips"

